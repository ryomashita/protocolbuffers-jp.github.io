
+++
title = "parser.h"
toc_hide = "true"
linkTitle = "C++"
description = "このセクションには、C++でプロトコルバッファクラスを操作するためのリファレンスドキュメントが含まれています。"
type = "docs"
+++

<p><code>#include &lt;google/protobuf/compiler/parser.h&gt;<br>namespace <a href="#google.protobuf.compiler">google::protobuf::compiler</a></code></p><p>.protoファイルをFileDescriptorProtosにパースする機能を実装します。</p><table width="100%"><tr><th colspan="2"><h3 style="margin-top: 4px">このファイル内のクラス</h3></th></tr><tr><td><div><code><a href="#Parser">Parser</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">プロトコル定義（.protoファイルなど）のパースを実装します。</div></td></tr><tr><td><div><code><a href="#SourceLocationTable">SourceLocationTable</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;"><a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a>がディスクリプタを検証する際に報告する（ディスクリプタ、ErrorLocation）ペアを元のソースコード内の行番号と列番号にマッピングするテーブル。</div></td></tr></table><h2 id="Parser">class Parser</h2><p><code>#include &lt;<a href="#">google/protobuf/compiler/parser.h</a>&gt;<br>namespace <a href="#google.protobuf.compiler">google::protobuf::compiler</a></code></p><p>プロトコル定義（.protoファイルなど）のパースを実装します。</p><p>ほとんどのユーザーは、<a href='google.protobuf.compiler.importer#Importer'>Importer</a>クラスにより関心を持つでしょう。 <a href='#Parser'>Parser</a> は、単一の .proto ファイルを FileDescriptorProto に変換するだけの低レベルクラスです。 インポートディレクティブを解決したり、完全な <a href='google.protobuf.descriptor#FileDescriptor'>FileDescriptor</a> を構築するために必要な多くの他の種類の検証を実行しません。</p>
```

<table><tr><th colspan="2"><h3 style="margin-top: 4px">メンバー</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="Parser.Parser"><div style="padding-left: 16px; text-indent: -16px"><code><b>Parser</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="Parser.~Parser"><div style="padding-left: 16px; text-indent: -16px"><code><b>~Parser</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="Parser.Parse"><div style="padding-left: 16px; text-indent: -16px"><code><b>Parse</b>(<a href='google.protobuf.io.tokenizer#Tokenizer'>io::Tokenizer</a> * input, FileDescriptorProto * file)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">入力全体を解析し、それを表すFileDescriptorProtoを構築します。<a href="#Parser.Parse.details">詳細...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Parser.RecordSourceLocationsTo"><div style="padding-left: 16px; text-indent: -16px"><code><b>RecordSourceLocationsTo</b>(<a href='#SourceLocationTable'>SourceLocationTable</a> * location_table)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">非推奨: 新しいコードは、FileDescriptorProtoに埋め込まれたSourceCodeInfoを使用する必要があります。<a href="#Parser.RecordSourceLocationsTo.details">詳細...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Parser.RecordErrorsTo"><div style="padding-left: 16px; text-indent: -16px"><code><b>RecordErrorsTo</b>(<a href='google.protobuf.io.tokenizer#ErrorCollector'>io::ErrorCollector</a> * error_collector)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">解析中にエラーを記録するように要求します。<a href="#Parser.RecordErrorsTo.details">詳細...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>const std::string &amp;</code></td><td style="border-left-width: 0px"id="Parser.GetSyntaxIdentifier"><div style="padding-left: 16px; text-indent: -16px"><code><b>GetSyntaxIdentifier</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">前回の<a href='#Parser.Parse'>Parse()</a>呼び出し中に "syntax = " 宣言で使用された識別子を返します。それ以外の場合は空の文字列を返します。</div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Parser.SetRequireSyntaxIdentifier"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetRequireSyntaxIdentifier</b>(bool value)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">trueに設定すると、入力ファイルは構文識別子で始まる必要があります。<a href="#Parser.SetRequireSyntaxIdentifier.details">詳細...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="Parser.SetStopAfterSyntaxIdentifier"><div style="padding-left: 16px; text-indent: -16px"><code><b>SetStopAfterSyntaxIdentifier</b>(bool value)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">SetStopAfterSyntaxIdentifier(true)を呼び出すと、構文識別子を見た直後に解析を停止するようにパーサーに指示します。<a href="#Parser.SetStopAfterSyntaxIdentifier.details">詳細...</a></div></td></tr></table> <hr><h3 id="Parser.Parse.details"><code>bool Parser::Parse(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='google.protobuf.io.tokenizer#Tokenizer'>io::Tokenizer</a> * input,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * file)</code></h3><div style="margin-left: 16px"><p>入力全体を解析し、それを表すFileDescriptorProtoを構築します。</p><p>エラーが発生しなかった場合はtrueを返し、それ以外の場合はfalseを返します。</p>
</div> <hr><h3 id="Parser.RecordSourceLocationsTo.details"><code>void Parser::RecordSourceLocationsTo(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='#SourceLocationTable'>SourceLocationTable</a> * location_table)</code></h3><div style="margin-left: 16px"><p>非推奨: 新しいコードは、FileDescriptorProtoに埋め込まれたSourceCodeInfoを使用する必要があります。</p><p>解析中に特定の定義の位置を指定された<a href='#SourceLocationTable'>SourceLocationTable</a>に記録するように要求します。これにより、検証中に<a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a>によって報告されたエラーの正確な行番号と列番号を調べることができます。ソース位置情報を破棄するには、NULL（デフォルト）を設定します。</p>
</div> <hr><h3 id="Parser.RecordErrorsTo.details"><code>void Parser::RecordErrorsTo(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='google.protobuf.io.tokenizer#ErrorCollector'>io::ErrorCollector</a> * error_collector)</code></h3><div style="margin-left: 16px"><p>解析中にエラーを指定されたErrorCollectorに記録するように要求します。</p><p>エラーメッセージを破棄するには、NULL（デフォルト）を設定します。</p>
</div> <hr><h3 id="Parser.SetRequireSyntaxIdentifier.details"><code>void Parser::SetRequireSyntaxIdentifier(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool value)</code></h3><div style="margin-left: 16px"><p>trueに設定すると、入力ファイルは構文識別子で始まる必要があります。</p><p>それ以外の場合、ファイルはこれを省略することができます。構文識別子が提供された場合、それは 'syntax = "proto2";' でなければならず、必要かどうかに関係なく、このファイルの先頭に表示されなければなりません。</p>
</div> <hr><h3 id="Parser.SetStopAfterSyntaxIdentifier.details"><code>void Parser::SetStopAfterSyntaxIdentifier(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool value)</code></h3><div style="margin-left: 16px"><p>SetStopAfterSyntaxIdentifier(true)を呼び出すと、構文識別子を見た直後に解析を停止するようにパーサーに指示します。</p><p>これは、ファイルの構文をすばやく特定するために役立ちます。これが有効になっている場合、構文識別子が "proto2" 以外の場合はエラーが記録されません（おそらく呼び出し元がそれを処理する意図であるため）、ただし、他の種類のエラー（例: 解析エラー）は引き続き報告されます。これが有効になっている場合、<a href='#Parser.Parse'>Parse()</a>にNULLのFileDescriptorProtoを渡すことができます。</p>
</div><h2 id="SourceLocationTable">class SourceLocationTable</h2><p><code>#include &lt;<a href="#">google/protobuf/compiler/parser.h</a>&gt;<br>namespace <a href="#google.protobuf.compiler">google::protobuf::compiler</a></code></p><p><a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a>が記述子を検証する際に報告される（記述子、ErrorLocation）ペアを元のソースコード内の行番号と列番号にマッピングするテーブル。</p><p>これは半時代遅れです: FileDescriptorProto.source_code_infoには、ソース位置に関するはるかに完全な情報が含まれています。ただし、この時点では、<a href='#SourceLocationTable'>SourceLocationTable</a>を<a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a>と統合する際に引き続き使用する必要があります。</p>
<table><tr><th colspan="2"><h3 style="margin-top: 4px">メンバー</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="SourceLocationTable.SourceLocationTable"><div style="padding-left: 16px; text-indent: -16px"><code><b>SourceLocationTable</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="SourceLocationTable.~SourceLocationTable"><div style="padding-left: 16px; text-indent: -16px"><code><b>~SourceLocationTable</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="SourceLocationTable.Find"><div style="padding-left: 16px; text-indent: -16px"><code><b>Find</b>(const <a href='google.protobuf.message#Message'>Message</a> * descriptor, <a href='google.protobuf.descriptor#DescriptorPool.ErrorCollector.ErrorLocation'>DescriptorPool::ErrorCollector::ErrorLocation</a> location, int * line, int * column) const</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">指定されたエラーの正確な位置を見つけ、*lineと*columnに行番号と列番号を記入します。<a href="#SourceLocationTable.Find.details">詳細...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="SourceLocationTable.FindImport"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindImport</b>(const <a href='google.protobuf.message#Message'>Message</a> * descriptor, const std::string &amp; name, int * line, int * column) const</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="SourceLocationTable.Add"><div style="padding-left: 16px; text-indent: -16px"><code><b>Add</b>(const <a href='google.protobuf.message#Message'>Message</a> * descriptor, <a href='google.protobuf.descriptor#DescriptorPool.ErrorCollector.ErrorLocation'>DescriptorPool::ErrorCollector::ErrorLocation</a> location, int line, int column)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">テーブルに位置を追加します。</div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="SourceLocationTable.AddImport"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddImport</b>(const <a href='google.protobuf.message#Message'>Message</a> * descriptor, const std::string &amp; name, int line, int column)</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>void</code></td><td style="border-left-width: 0px"id="SourceLocationTable.Clear"><div style="padding-left: 16px; text-indent: -16px"><code><b>Clear</b>()</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">テーブルの内容をクリアします。</div></td></tr></table> <hr><h3 id="SourceLocationTable.Find.details"><code>bool SourceLocationTable::Find(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const <a href='google.protobuf.message#Message'>Message</a> * descriptor,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='google.protobuf.descriptor#DescriptorPool.ErrorCollector.ErrorLocation'>DescriptorPool::ErrorCollector::ErrorLocation</a> location,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int * line,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int * column) const</code></h3><div style="margin-left: 16px"><p>指定されたエラーの正確な位置を見つけ、*lineと*columnに行番号と列番号を記入します。</p><p>見つからない場合、*lineを-1、*columnを0に設定します（ErrorCollectorインターフェースで行 = -1は「エラーに正確な位置がない」ことを意味するため）。見つかった場合はtrueを、それ以外の場合はfalseを返します。</p>
</div>

Please provide the Markdown content that you would like me to translate into Japanese.
