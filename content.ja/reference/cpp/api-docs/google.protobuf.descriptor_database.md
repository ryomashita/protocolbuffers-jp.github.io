+++
title = "descriptor_database.h"
toc_hide = "true"
linkTitle = "C++"
description = "This section contains reference documentation for working with protocol buffer classes in C++."
type = "docs"
+++

<p><code>#include &lt;google/protobuf/descriptor_database.h&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Interface for manipulating databases of descriptors. </p><table width="100%"><tr><th colspan="2"><h3 style="margin-top: 4px">Classes in this file</h3></th></tr><tr><td><div><code><a href="#DescriptorDatabase">DescriptorDatabase</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Abstract interface for a database of descriptors. </div></td></tr><tr><td><div><code><a href="#SimpleDescriptorDatabase">SimpleDescriptorDatabase</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">A <a href='#DescriptorDatabase'>DescriptorDatabase</a> into which you can insert files manually. </div></td></tr><tr><td><div><code><a href="#EncodedDescriptorDatabase">EncodedDescriptorDatabase</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Very similar to <a href='#SimpleDescriptorDatabase'>SimpleDescriptorDatabase</a>, but stores all the descriptors as raw bytes and generally tries to use as little memory as possible. </div></td></tr><tr><td><div><code><a href="#DescriptorPoolDatabase">DescriptorPoolDatabase</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">A <a href='#DescriptorDatabase'>DescriptorDatabase</a> that fetches files from a given pool. </div></td></tr><tr><td><div><code><a href="#MergedDescriptorDatabase">MergedDescriptorDatabase</a></code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">A <a href='#DescriptorDatabase'>DescriptorDatabase</a> that wraps two or more others. </div></td></tr></table><h2 id="DescriptorDatabase">class DescriptorDatabase</h2><p><code>#include &lt;<a href="#">google/protobuf/descriptor_database.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Abstract interface for a database of descriptors. </p><p>This is useful if you want to create a <a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a> which loads descriptors on-demand from some sort of large database. If the database is large, it may be inefficient to enumerate every .proto file inside it calling <a href='google.protobuf.descriptor#DescriptorPool.BuildFile'>DescriptorPool::BuildFile()</a> for each one. Instead, a <a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a> can be created which wraps a <a href='#DescriptorDatabase'>DescriptorDatabase</a> and only builds particular descriptors when they are needed. </p>

<p>Known subclasses:</p><ul><li><code><a href="#DescriptorPoolDatabase">DescriptorPoolDatabase</a></code></li><li><code><a href="#EncodedDescriptorDatabase">EncodedDescriptorDatabase</a></code></li><li><code><a href="#MergedDescriptorDatabase">MergedDescriptorDatabase</a></code></li><li><code><a href="#SimpleDescriptorDatabase">SimpleDescriptorDatabase</a></code></li><li><code><a href="google.protobuf.compiler.importer#SourceTreeDescriptorDatabase">SourceTreeDescriptorDatabase</a></code></li></ul><table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="DescriptorDatabase.DescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>DescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual </code></td><td style="border-left-width: 0px"id="DescriptorDatabase.~DescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>~DescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindFileByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileByName</b>(const std::string &amp; filename, FileDescriptorProto * output)  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find a file by file name.  <a href="#DescriptorDatabase.FindFileByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingSymbol</b>(const std::string &amp; symbol_name, FileDescriptorProto * output)  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file that declares the given fully-qualified symbol name.  <a href="#DescriptorDatabase.FindFileContainingSymbol.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindFileContainingExtension"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingExtension</b>(const std::string &amp; containing_type, int field_number, FileDescriptorProto * output)  = 0</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file which defines an extension extending the given message type with the given field number.  <a href="#DescriptorDatabase.FindFileContainingExtension.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindAllExtensionNumbers"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllExtensionNumbers</b>(const std::string &amp; , std::vector&lt; int &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order.  <a href="#DescriptorDatabase.FindAllExtensionNumbers.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindAllFileNames"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllFileNames</b>(std::vector&lt; std::string &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the file names and appends them to the output in an undefined order.  <a href="#DescriptorDatabase.FindAllFileNames.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindAllPackageNames"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllPackageNames</b>(std::vector&lt; std::string &gt; * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the package names and appends them to the output in an undefined order.  <a href="#DescriptorDatabase.FindAllPackageNames.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="DescriptorDatabase.FindAllMessageNames"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllMessageNames</b>(std::vector&lt; std::string &gt; * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the message names and appends them to the output in an undefined order.  <a href="#DescriptorDatabase.FindAllMessageNames.details">more...</a></div></td></tr></table> <hr><h3 id="DescriptorDatabase.FindFileByName.details"><code>virtual bool DescriptorDatabase::FindFileByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; filename,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)  = 0</code></h3><div style="margin-left: 16px"><p>Find a file by file name. </p><p>Fills in in *output and returns true if found. Otherwise, returns false, leaving the contents of *output undefined. </p>
</div> <hr><h3 id="DescriptorDatabase.FindFileContainingSymbol.details"><code>virtual bool DescriptorDatabase::FindFileContainingSymbol(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; symbol_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)  = 0</code></h3><div style="margin-left: 16px"><p>Find the file that declares the given fully-qualified symbol name. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. </p>
</div> <hr><h3 id="DescriptorDatabase.FindFileContainingExtension.details"><code>virtual bool DescriptorDatabase::FindFileContainingExtension(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; containing_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int field_number,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)  = 0</code></h3><div style="margin-left: 16px"><p>Find the file which defines an extension extending the given message type with the given field number. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. containing_type must be a fully-qualified type name. </p>
</div> <hr><h3 id="DescriptorDatabase.FindAllExtensionNumbers.details"><code>virtual bool DescriptorDatabase::FindAllExtensionNumbers(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; int &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all extensions, and it's not guaranteed that FindFileContainingExtension will return true on all of the found numbers. Returns true if the search was successful, otherwise returns false and leaves output unchanged.</p>

<p>This method has a default implementation that always returns false. </p>
</div> <hr><h3 id="DescriptorDatabase.FindAllFileNames.details"><code>virtual bool DescriptorDatabase::FindAllFileNames(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the file names and appends them to the output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all files. Returns true if the database supports searching all file names, otherwise returns false and leaves output unchanged.</p>

<p>This method has a default implementation that always returns false. </p>
</div> <hr><h3 id="DescriptorDatabase.FindAllPackageNames.details"><code>bool DescriptorDatabase::FindAllPackageNames(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * output)</code></h3><div style="margin-left: 16px"><p>Finds the package names and appends them to the output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all packages. Returns true if the database supports searching all package names, otherwise returns false and leaves output unchanged. </p>
</div> <hr><h3 id="DescriptorDatabase.FindAllMessageNames.details"><code>bool DescriptorDatabase::FindAllMessageNames(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * output)</code></h3><div style="margin-left: 16px"><p>Finds the message names and appends them to the output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all messages. Returns true if the database supports searching all message names, otherwise returns false and leaves output unchanged. </p>
</div><h2 id="SimpleDescriptorDatabase">class SimpleDescriptorDatabase: public <a href="#DescriptorDatabase">DescriptorDatabase</a></h2><p><code>#include &lt;<a href="#">google/protobuf/descriptor_database.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>A <a href='#DescriptorDatabase'>DescriptorDatabase</a> into which you can insert files manually. </p><p><a href='#SimpleDescriptorDatabase.FindFileContainingSymbol'>FindFileContainingSymbol()</a> is fully-implemented. When you add a file, its symbols will be indexed for this purpose. Note that the implementation may return false positives, but only if it isn't possible for the symbol to be defined in any other file. In particular, if a file defines a symbol "Foo", then searching for "Foo.[anything]" will match that file. This way, the database does not need to aggressively index all children of a symbol.</p>

<p><a href='#SimpleDescriptorDatabase.FindFileContainingExtension'>FindFileContainingExtension()</a> is mostly-implemented. It works if and only if the original FieldDescriptorProto defining the extension has a fully-qualified type name in its "extendee" field (i.e. starts with a '.'). If the extendee is a relative name, <a href='#SimpleDescriptorDatabase'>SimpleDescriptorDatabase</a> will not attempt to resolve the type, so it will not know what type the extension is extending. Therefore, calling <a href='#SimpleDescriptorDatabase.FindFileContainingExtension'>FindFileContainingExtension()</a> with the extension's containing type will never actually find that extension. Note that this is an unlikely problem, as all FileDescriptorProtos created by the protocol compiler (as well as ones created by calling <a href='google.protobuf.descriptor#FileDescriptor.CopyTo'>FileDescriptor::CopyTo()</a>) will always use fully-qualified names for all types. You only need to worry if you are constructing FileDescriptorProtos yourself, or are calling <a href='google.protobuf.compiler.parser#Parser'>compiler::Parser</a> directly. </p>

<table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.SimpleDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>SimpleDescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.~SimpleDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>~SimpleDescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.Add"><div style="padding-left: 16px; text-indent: -16px"><code><b>Add</b>(const FileDescriptorProto &amp; file)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Adds the FileDescriptorProto to the database, making a copy.  <a href="#SimpleDescriptorDatabase.Add.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.AddAndOwn"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddAndOwn</b>(const FileDescriptorProto * file)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Adds the FileDescriptorProto to the database and takes ownership of it. </div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">implements <a href='#DescriptorDatabase'>DescriptorDatabase</a></h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.FindFileByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileByName</b>(const std::string &amp; filename, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find a file by file name.  <a href="#SimpleDescriptorDatabase.FindFileByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.FindFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingSymbol</b>(const std::string &amp; symbol_name, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file that declares the given fully-qualified symbol name.  <a href="#SimpleDescriptorDatabase.FindFileContainingSymbol.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.FindFileContainingExtension"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingExtension</b>(const std::string &amp; containing_type, int field_number, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file which defines an extension extending the given message type with the given field number.  <a href="#SimpleDescriptorDatabase.FindFileContainingExtension.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.FindAllExtensionNumbers"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllExtensionNumbers</b>(const std::string &amp; , std::vector&lt; int &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order.  <a href="#SimpleDescriptorDatabase.FindAllExtensionNumbers.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="SimpleDescriptorDatabase.FindAllFileNames"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllFileNames</b>(std::vector&lt; std::string &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the file names and appends them to the output in an undefined order.  <a href="#SimpleDescriptorDatabase.FindAllFileNames.details">more...</a></div></td></tr></table> <hr><h3 id="SimpleDescriptorDatabase.Add.details"><code>bool SimpleDescriptorDatabase::Add(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const FileDescriptorProto &amp; file)</code></h3><div style="margin-left: 16px"><p>Adds the FileDescriptorProto to the database, making a copy. </p><p>The object can be deleted after <a href='#SimpleDescriptorDatabase.Add'>Add()</a> returns. Returns false if the file conflicted with a file already in the database, in which case an error will have been written to GOOGLE_LOG(ERROR). </p>
</div> <hr><h3 id="SimpleDescriptorDatabase.FindFileByName.details"><code>virtual bool SimpleDescriptorDatabase::FindFileByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; filename,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find a file by file name. </p><p>Fills in in *output and returns true if found. Otherwise, returns false, leaving the contents of *output undefined. </p>
</div> <hr><h3 id="SimpleDescriptorDatabase.FindFileContainingSymbol.details"><code>virtual bool SimpleDescriptorDatabase::FindFileContainingSymbol(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; symbol_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file that declares the given fully-qualified symbol name. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. </p>
</div> <hr><h3 id="SimpleDescriptorDatabase.FindFileContainingExtension.details"><code>virtual bool SimpleDescriptorDatabase::FindFileContainingExtension(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; containing_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int field_number,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file which defines an extension extending the given message type with the given field number. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. containing_type must be a fully-qualified type name. </p>
</div> <hr><h3 id="SimpleDescriptorDatabase.FindAllExtensionNumbers.details"><code>virtual bool SimpleDescriptorDatabase::FindAllExtensionNumbers(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; int &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all extensions, and it's not guaranteed that FindFileContainingExtension will return true on all of the found numbers. Returns true if the search was successful, otherwise returns false and leaves output unchanged.</p>
<p>This method has a default implementation that always returns false. </p>
</div> <hr><h3 id="SimpleDescriptorDatabase.FindAllFileNames.details"><code>virtual bool SimpleDescriptorDatabase::FindAllFileNames(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the file names and appends them to the output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all files. Returns true if the database supports searching all file names, otherwise returns false and leaves output unchanged.</p>
<p>This method has a default implementation that always returns false. </p>
</div><h2 id="EncodedDescriptorDatabase">class EncodedDescriptorDatabase: public <a href="#DescriptorDatabase">DescriptorDatabase</a></h2><p><code>#include &lt;<a href="#">google/protobuf/descriptor_database.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>Very similar to <a href='#SimpleDescriptorDatabase'>SimpleDescriptorDatabase</a>, but stores all the descriptors as raw bytes and generally tries to use as little memory as possible. </p><p>The same caveats regarding <a href='#EncodedDescriptorDatabase.FindFileContainingExtension'>FindFileContainingExtension()</a> apply as with <a href='#SimpleDescriptorDatabase'>SimpleDescriptorDatabase</a>. </p>
<table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.EncodedDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>EncodedDescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.~EncodedDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>~EncodedDescriptorDatabase</b>()</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.Add"><div style="padding-left: 16px; text-indent: -16px"><code><b>Add</b>(const void * encoded_file_descriptor, int size)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Adds the FileDescriptorProto to the database.  <a href="#EncodedDescriptorDatabase.Add.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.AddCopy"><div style="padding-left: 16px; text-indent: -16px"><code><b>AddCopy</b>(const void * encoded_file_descriptor, int size)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like <a href='#EncodedDescriptorDatabase.Add'>Add()</a>, but makes a copy of the data, so that the caller does not need to keep it around. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindNameOfFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindNameOfFileContainingSymbol</b>(const std::string &amp; symbol_name, std::string * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Like FindFileContainingSymbol but returns only the name of the file. </div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">implements <a href='#DescriptorDatabase'>DescriptorDatabase</a></h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindFileByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileByName</b>(const std::string &amp; filename, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find a file by file name.  <a href="#EncodedDescriptorDatabase.FindFileByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingSymbol</b>(const std::string &amp; symbol_name, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file that declares the given fully-qualified symbol name.  <a href="#EncodedDescriptorDatabase.FindFileContainingSymbol.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindFileContainingExtension"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingExtension</b>(const std::string &amp; containing_type, int field_number, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file which defines an extension extending the given message type with the given field number.  <a href="#EncodedDescriptorDatabase.FindFileContainingExtension.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindAllExtensionNumbers"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllExtensionNumbers</b>(const std::string &amp; , std::vector&lt; int &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order.  <a href="#EncodedDescriptorDatabase.FindAllExtensionNumbers.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="EncodedDescriptorDatabase.FindAllFileNames"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllFileNames</b>(std::vector&lt; std::string &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the file names and appends them to the output in an undefined order.  <a href="#EncodedDescriptorDatabase.FindAllFileNames.details">more...</a></div></td></tr></table> <hr><h3 id="EncodedDescriptorDatabase.Add.details"><code>bool EncodedDescriptorDatabase::Add(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const void * encoded_file_descriptor,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int size)</code></h3><div style="margin-left: 16px"><p>Adds the FileDescriptorProto to the database. </p><p>The descriptor is provided in encoded form. The database does not make a copy of the bytes, nor does it take ownership; it's up to the caller to make sure the bytes remain valid for the life of the database. Returns false and logs an error if the bytes are not a valid FileDescriptorProto or if the file conflicted with a file already in the database. </p>
</div> <hr><h3 id="EncodedDescriptorDatabase.FindFileByName.details"><code>virtual bool EncodedDescriptorDatabase::FindFileByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; filename,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find a file by file name. </p><p>Fills in in *output and returns true if found. Otherwise, returns false, leaving the contents of *output undefined. </p>
</div> <hr><h3 id="EncodedDescriptorDatabase.FindFileContainingSymbol.details"><code>virtual bool EncodedDescriptorDatabase::FindFileContainingSymbol(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; symbol_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file that declares the given fully-qualified symbol name. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. </p>
</div> <hr><h3 id="EncodedDescriptorDatabase.FindFileContainingExtension.details"><code>virtual bool EncodedDescriptorDatabase::FindFileContainingExtension(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; containing_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int field_number,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file which defines an extension extending the given message type with the given field number. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. containing_type must be a fully-qualified type name. </p>
</div> <hr><h3 id="EncodedDescriptorDatabase.FindAllExtensionNumbers.details"><code>virtual bool EncodedDescriptorDatabase::FindAllExtensionNumbers(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; int &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all extensions, and it's not guaranteed that FindFileContainingExtension will return true on all of the found numbers. Returns true if the search was successful, otherwise returns false and leaves output unchanged.</p>
<p>This method has a default implementation that always returns false. </p>
</div> <hr><h3 id="EncodedDescriptorDatabase.FindAllFileNames.details"><code>virtual bool EncodedDescriptorDatabase::FindAllFileNames(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; std::string &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the file names and appends them to the output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all files. Returns true if the database supports searching all file names, otherwise returns false and leaves output unchanged.</p>
<p>This method has a default implementation that always returns false. </p>
</div><h2 id="DescriptorPoolDatabase">class DescriptorPoolDatabase: public <a href="#DescriptorDatabase">DescriptorDatabase</a></h2><p><code>#include &lt;<a href="#">google/protobuf/descriptor_database.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>A <a href='#DescriptorDatabase'>DescriptorDatabase</a> that fetches files from a given pool. </p><table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>explicit </code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.DescriptorPoolDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>DescriptorPoolDatabase</b>(const <a href='google.protobuf.descriptor#DescriptorPool'>DescriptorPool</a> &amp; pool)</code></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.~DescriptorPoolDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>~DescriptorPoolDatabase</b>()</code></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">implements <a href='#DescriptorDatabase'>DescriptorDatabase</a></h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.FindFileByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileByName</b>(const std::string &amp; filename, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find a file by file name.  <a href="#DescriptorPoolDatabase.FindFileByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.FindFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingSymbol</b>(const std::string &amp; symbol_name, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file that declares the given fully-qualified symbol name.  <a href="#DescriptorPoolDatabase.FindFileContainingSymbol.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.FindFileContainingExtension"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingExtension</b>(const std::string &amp; containing_type, int field_number, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file which defines an extension extending the given message type with the given field number.  <a href="#DescriptorPoolDatabase.FindFileContainingExtension.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="DescriptorPoolDatabase.FindAllExtensionNumbers"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllExtensionNumbers</b>(const std::string &amp; , std::vector&lt; int &gt; * )</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order.  <a href="#DescriptorPoolDatabase.FindAllExtensionNumbers.details">more...</a></div></td></tr></table> <hr><h3 id="DescriptorPoolDatabase.FindFileByName.details"><code>virtual bool DescriptorPoolDatabase::FindFileByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; filename,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find a file by file name. </p><p>Fills in in *output and returns true if found. Otherwise, returns false, leaving the contents of *output undefined. </p>
</div> <hr><h3 id="DescriptorPoolDatabase.FindFileContainingSymbol.details"><code>virtual bool DescriptorPoolDatabase::FindFileContainingSymbol(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; symbol_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file that declares the given fully-qualified symbol name. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. </p>
</div> <hr><h3 id="DescriptorPoolDatabase.FindFileContainingExtension.details"><code>virtual bool DescriptorPoolDatabase::FindFileContainingExtension(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; containing_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int field_number,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file which defines an extension extending the given message type with the given field number. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. containing_type must be a fully-qualified type name. </p>
</div> <hr><h3 id="DescriptorPoolDatabase.FindAllExtensionNumbers.details"><code>virtual bool DescriptorPoolDatabase::FindAllExtensionNumbers(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; ,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; int &gt; * )</code></h3><div style="margin-left: 16px"><p>Finds the tag numbers used by all known extensions of extendee_type, and appends them to output in an undefined order. </p><p>This method is best-effort: it's not guaranteed that the database will find all extensions, and it's not guaranteed that FindFileContainingExtension will return true on all of the found numbers. Returns true if the search was successful, otherwise returns false and leaves output unchanged.</p>
<p>This method has a default implementation that always returns false. </p>
</div><h2 id="MergedDescriptorDatabase">class MergedDescriptorDatabase: public <a href="#DescriptorDatabase">DescriptorDatabase</a></h2><p><code>#include &lt;<a href="#">google/protobuf/descriptor_database.h</a>&gt;<br>namespace <a href="#google.protobuf">google::protobuf</a></code></p><p>A <a href='#DescriptorDatabase'>DescriptorDatabase</a> that wraps two or more others. </p><p>It first searches the first database and, if that fails, tries the second, and so on. </p>
<table><tr><th colspan="2"><h3 style="margin-top: 4px">Members</h3></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.MergedDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>MergedDescriptorDatabase</b>(<a href='#DescriptorDatabase'>DescriptorDatabase</a> * source1, <a href='#DescriptorDatabase'>DescriptorDatabase</a> * source2)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Merge just two databases. The sources remain property of the caller. </div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>explicit </code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.MergedDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>MergedDescriptorDatabase</b>(const std::vector&lt; <a href='#DescriptorDatabase'>DescriptorDatabase</a> * &gt; &amp; sources)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Merge more than two databases.  <a href="#MergedDescriptorDatabase.MergedDescriptorDatabase.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code></code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.~MergedDescriptorDatabase"><div style="padding-left: 16px; text-indent: -16px"><code><b>~MergedDescriptorDatabase</b>()</code></div></td></tr><tr><th colspan="2"><h3 style="margin-top: 4px; margin-bottom: 4px;">implements <a href='#DescriptorDatabase'>DescriptorDatabase</a></h3><div style="font-style: italic; font-weight: normal;"></div></th></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.FindFileByName"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileByName</b>(const std::string &amp; filename, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find a file by file name.  <a href="#MergedDescriptorDatabase.FindFileByName.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.FindFileContainingSymbol"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingSymbol</b>(const std::string &amp; symbol_name, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file that declares the given fully-qualified symbol name.  <a href="#MergedDescriptorDatabase.FindFileContainingSymbol.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.FindFileContainingExtension"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindFileContainingExtension</b>(const std::string &amp; containing_type, int field_number, FileDescriptorProto * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Find the file which defines an extension extending the given message type with the given field number.  <a href="#MergedDescriptorDatabase.FindFileContainingExtension.details">more...</a></div></td></tr><tr><td style="border-right-width: 0px; text-align: right;"><code>virtual bool</code></td><td style="border-left-width: 0px"id="MergedDescriptorDatabase.FindAllExtensionNumbers"><div style="padding-left: 16px; text-indent: -16px"><code><b>FindAllExtensionNumbers</b>(const std::string &amp; extendee_type, std::vector&lt; int &gt; * output)</code></div><div style="font-style: italic; margin-top: 4px; margin-left: 16px;">Merges the results of calling all databases.  <a href="#MergedDescriptorDatabase.FindAllExtensionNumbers.details">more...</a></div></td></tr></table> <hr><h3 id="MergedDescriptorDatabase.MergedDescriptorDatabase.details"><code>explicit  MergedDescriptorDatabase::MergedDescriptorDatabase(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::vector&lt; <a href='#DescriptorDatabase'>DescriptorDatabase</a> * &gt; &amp; sources)</code></h3><div style="margin-left: 16px"><p>Merge more than two databases. </p><p>The sources remain property of the caller. The vector may be deleted after the constructor returns but the DescriptorDatabases need to stick around. </p>
</div> <hr><h3 id="MergedDescriptorDatabase.FindFileByName.details"><code>virtual bool MergedDescriptorDatabase::FindFileByName(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; filename,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find a file by file name. </p><p>Fills in in *output and returns true if found. Otherwise, returns false, leaving the contents of *output undefined. </p>
</div> <hr><h3 id="MergedDescriptorDatabase.FindFileContainingSymbol.details"><code>virtual bool MergedDescriptorDatabase::FindFileContainingSymbol(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; symbol_name,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file that declares the given fully-qualified symbol name. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. </p>
</div> <hr><h3 id="MergedDescriptorDatabase.FindFileContainingExtension.details"><code>virtual bool MergedDescriptorDatabase::FindFileContainingExtension(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; containing_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int field_number,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileDescriptorProto * output)</code></h3><div style="margin-left: 16px"><p>Find the file which defines an extension extending the given message type with the given field number. </p><p>If found, fills in *output and returns true, otherwise returns false and leaves *output undefined. containing_type must be a fully-qualified type name. </p>
</div> <hr><h3 id="MergedDescriptorDatabase.FindAllExtensionNumbers.details"><code>virtual bool MergedDescriptorDatabase::FindAllExtensionNumbers(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; extendee_type,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::vector&lt; int &gt; * output)</code></h3><div style="margin-left: 16px"><p>Merges the results of calling all databases. </p><p>Returns true iff any of the databases returned true. </p>
</div>
