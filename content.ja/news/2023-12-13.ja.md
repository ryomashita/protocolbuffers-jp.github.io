+++
title = "2023年12月13日に発表された変更点"
linkTitle = "2023年12月13日"
toc_hide = "true"
description = "2023年12月13日にProtocol Buffers向けに発表された変更点。"
type = "docs"
+++

## C++ 互換性のない変更

v26では、C++向けにメジャーバージョンの更新を計画しています。これは、
[互換性のない変更ポリシー](/news/2022-07-06)および
[バージョンサポートポリシー](/support/version-support#cpp-tooling)に基づいています。

以下のセクションでは、プロトコルバッファの26.0リリースに含める互換性のない変更のセットを概説しています。計画は変更される可能性があります。これらは認識しておくべき潜在的な互換性のない変更ですが、この特定のリリースで発生するかどうか、または全く発生しないかもしれません。

### 廃止された繰り返しフィールドのクリアAPI

以下の廃止されたメソッドが削除されました：

*   `RepeatedPtrField::ReleaseCleared()`
*   `RepeatedPtrField::ClearedCount()`
*   `RepeatedPtrField::AddCleared()`

### C++ レガシー構文記述子APIの削除

[エディション](/editions)のリリースに伴い、構文はビジネスロジックではサポートされなくなりました。代わりに、
[`descriptor.h`](/reference/cpp/api-docs/google.protobuf.descriptor)
で定義されたさまざまな機能ヘルパーを使用して、
[`has_presence`](/reference/cpp/api-docs/google.protobuf.descriptor#FieldDescriptor.has_presence.details)
などのよりターゲットされた動作をクエリすることをお勧めします。

### 廃止された構文アクセサの削除

v26では、廃止された構文アクセサである `FileDescriptor::Syntax` を削除する予定です。代わりに、`FileDescriptor::edition` からのゲッターを使用することをお勧めします。

### 廃止されたSupportsUnknownEnumValuesメソッドの削除

`SupportsUnknownEnumValues` メソッドは、
[2023年3月に廃止されました](https://github.com/protocolbuffers/protobuf/pull/12129)。
v26で削除する予定です。

### std::stringエラーコレクターのオーバーライドの削除

エラーコレクターの廃止された `std::string` メソッドを削除する予定です。

## Python 互換性のない変更

v26では、Python向けにメジャーバージョンの更新を計画しています。これは、
[互換性のない変更ポリシー](/news/2022-07-06)および
[バージョンサポートポリシー](/support/version-support#python-support)に基づいています。

### タイムスタンプの妥当性がチェックされます {/examples}

v26 では、システムは `Timestamp` 値が有効かどうかをチェックします。秒は [-62135596800, 253402300799] の範囲内でなければならず、ナノ秒は [0, 999999999] の範囲内でなければなりません。これらの範囲外の値は例外を発生させます。

### 廃止された構文アクセサを削除します {/examples}

v26 では、廃止された構文アクセサである `FileDescriptor.syntax` を削除する予定です。その代わりに `FileDescriptor.edition` を追加する予定です。

### UnknownFields サポートの削除 {/examples}

v25 では、[`message.UnknownFields()`](https://googleapis.dev/python/protobuf/latest/google/protobuf/message.html#google.protobuf.message.Message.UnknownFields) が純粋な Python および C++ 拡張で非推奨となりました。v26 でこれを削除する予定です。代わりに `unknown_fields.py` での新しい [`UnknownFieldSet(message)`](https://googleapis.dev/python/protobuf/latest/google/protobuf/unknown_fields.html) サポートを使用してください。

これらの変更に関する詳細は、対応するリリースノートで入手できます。
