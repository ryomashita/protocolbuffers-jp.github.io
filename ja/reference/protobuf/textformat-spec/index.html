<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=ja class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.121.2"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>テキスト形式言語仕様 | Protocol Buffers Documentation</title>
<meta name=description content="プロトコルバッファのテキスト形式言語は、protobufデータのテキスト形式での表現の構文を指定します。これは、構成やテストによく使用されます。"><meta property="og:title" content="テキスト形式言語仕様"><meta property="og:description" content="プロトコルバッファのテキスト形式言語は、protobufデータのテキスト形式での表現の構文を指定します。これは、構成やテストによく使用されます。"><meta property="og:type" content="article"><meta property="og:url" content="https://protobuf.dev/ja/reference/protobuf/textformat-spec/"><meta property="article:section" content="reference"><meta itemprop=name content="テキスト形式言語仕様"><meta itemprop=description content="プロトコルバッファのテキスト形式言語は、protobufデータのテキスト形式での表現の構文を指定します。これは、構成やテストによく使用されます。"><meta itemprop=wordCount content="1670"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="テキスト形式言語仕様"><meta name=twitter:description content="プロトコルバッファのテキスト形式言語は、protobufデータのテキスト形式での表現の構文を指定します。これは、構成やテストによく使用されます。"><link rel=preload href=/scss/main.min.6a57e8f3f347dea5d31cb48e3b4ea9fdae32d499473089bdef9b45457b5debb8.css as=style><link href=/scss/main.min.6a57e8f3f347dea5d31cb48e3b4ea9fdae32d499473089bdef9b45457b5debb8.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5L8P8GRN4Y"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5L8P8GRN4Y")}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/ja/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Protocol Buffers Documentation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>日本語</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/reference/protobuf/textformat-spec/>English</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder=サイトを検索... aria-label=サイトを検索... autocomplete=off></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder=サイトを検索... aria-label=サイトを検索... autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>日本語</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/reference/protobuf/textformat-spec/>English</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-ja-li><a href=/ja/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-ja><span>Protocol Buffers</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jaoverview-li><a href=/ja/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jaoverview><span>概要</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-janews-li><a href=/ja/news/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-janews><span>ニュース</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2022-05-06-li><a href=/ja/news/2022-05-06/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2022-05-06><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2023-07-06-li><a href=/ja/news/2023-07-06/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2023-07-06><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2023-08-09-li><a href=/ja/news/2023-08-09/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2023-08-09><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2023-08-15-li><a href=/ja/news/2023-08-15/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2023-08-15><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2023-09-15-li><a href=/ja/news/2023-09-15/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2023-09-15><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2023-12-27-li><a href=/ja/news/2023-12-27/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2023-12-27><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janews2024-06-26-li><a href=/ja/news/2024-06-26/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janews2024-06-26><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-japrogramming-guides-li><a href=/ja/programming-guides/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-japrogramming-guides><span>プログラミングガイド</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesproto2-li><a href=/ja/programming-guides/proto2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesproto2><span>言語ガイド（proto 2）</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesproto3-li><a href=/ja/programming-guides/proto3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesproto3><span>言語ガイド（proto 3）</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesstyle-li><a href=/ja/programming-guides/style/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesstyle><span>スタイルガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesaddons-li><a href=/ja/programming-guides/addons/ title=サードパーティーアドオン class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesaddons><span>アドオン</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesapi-li><a href=/ja/programming-guides/api/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesapi><span>API ベストプラクティス</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesdos-donts-li><a href=/ja/programming-guides/dos-donts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesdos-donts><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesencoding-li><a href=/ja/programming-guides/encoding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesencoding><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesenum-li><a href=/ja/programming-guides/enum/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesenum><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesextension_declarations-li><a href=/ja/programming-guides/extension_declarations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesextension_declarations><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesfield_presence-li><a href=/ja/programming-guides/field_presence/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesfield_presence><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidesserialization-not-canonical-li><a href=/ja/programming-guides/serialization-not-canonical/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidesserialization-not-canonical><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-japrogramming-guidestechniques-li><a href=/ja/programming-guides/techniques/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-japrogramming-guidestechniques><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jaeditions-li><a href=/ja/editions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jaeditions><span>Protobuf Editions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jaeditionsoverview-li><a href=/ja/editions/overview/ title="Protobuf Editions の概要" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jaeditionsoverview><span>概要</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jaeditionsfeatures-li><a href=/ja/editions/features/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jaeditionsfeatures><span>エディション向けの機能設定</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jaeditionsimplementation-li><a href=/ja/editions/implementation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jaeditionsimplementation><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jagetting-started-li><a href=/ja/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jagetting-started><span>チュートリアル</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedcpptutorial-li><a href=/ja/getting-started/cpptutorial/ title="プロトコルバッファの基礎: C++" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedcpptutorial><span>C++</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedcsharptutorial-li><a href=/ja/getting-started/csharptutorial/ title="Protocol Buffer Basics: C#" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedcsharptutorial><span>C#</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-starteddarttutorial-li><a href=/ja/getting-started/darttutorial/ title="Protocol Buffer Basics: Dart" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-starteddarttutorial><span>Dart</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedgotutorial-li><a href=/ja/getting-started/gotutorial/ title="プロトコルバッファの基本: Go" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedgotutorial><span>Go</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedjavatutorial-li><a href=/ja/getting-started/javatutorial/ title="プロトコルバッファの基礎: Java" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedjavatutorial><span>Java</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedkotlintutorial-li><a href=/ja/getting-started/kotlintutorial/ title="Protocol Buffer Basics: Kotlin" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedkotlintutorial><span>Kotlin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jagetting-startedpythontutorial-li><a href=/ja/getting-started/pythontutorial/ title="プロトコルバッファの基礎: Python" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jagetting-startedpythontutorial><span>Python</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-jareference-li><a href=/ja/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareference><span>リファレンスガイド</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencecpp-li><a href=/ja/reference/cpp/ title="C++ リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencecpp><span>C++</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppcpp-generated-li><a href=/ja/reference/cpp/cpp-generated/ title="C++ 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppcpp-generated><span>生成コードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecpparenas-li><a href=/ja/reference/cpp/arenas/ title="C++ アリーナ割り当てガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecpparenas><span>アリーナ割り当てガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docs-link-li><a href=/reference/cpp/api-docs/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docs-link><span>C++ API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilercpp_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.cpp_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilercpp_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilercsharp_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.csharp_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilercsharp_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilercsharp_names-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.csharp_names/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilercsharp_names><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerjava_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.java_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerjava_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerjava_names-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.java_names/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerjava_names><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerjavanano_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.javanano_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerjavanano_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerjs_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.js_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerjs_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerobjectivec_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.objectivec_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerobjectivec_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerparser-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.parser/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerparser><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerplugin-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerplugin><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerpluginpb-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.plugin.pb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerpluginpb><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerpython_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.python_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerpython_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufcompilerruby_generator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.compiler.ruby_generator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufcompilerruby_generator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufdescriptorpb-li><a href=/ja/reference/cpp/api-docs/google.protobuf.descriptor.pb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufdescriptorpb><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufdynamic_message-li><a href=/ja/reference/cpp/api-docs/google.protobuf.dynamic_message/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufdynamic_message><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufutilfield_comparator-li><a href=/ja/reference/cpp/api-docs/google.protobuf.util.field_comparator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufutilfield_comparator><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufutiljson_util-li><a href=/ja/reference/cpp/api-docs/google.protobuf.util.json_util/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufutiljson_util><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufutiltype_resolver-li><a href=/ja/reference/cpp/api-docs/google.protobuf.util.type_resolver/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufutiltype_resolver><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecppapi-docsgoogleprotobufutiltype_resolver_util-li><a href=/ja/reference/cpp/api-docs/google.protobuf.util.type_resolver_util/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecppapi-docsgoogleprotobufutiltype_resolver_util><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencecsharp-li><a href=/ja/reference/csharp/ title="C# リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencecsharp><span>C#</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecsharpcsharp-generated-li><a href=/ja/reference/csharp/csharp-generated/ title="C# 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecsharpcsharp-generated><span>生成コードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencecsharpapi-docs-link-li><a href=/reference/csharp/api-docs target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencecsharpapi-docs-link><span>C# API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencedart-li><a href=/ja/reference/dart/ title="Dart リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencedart><span>Dart</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencedartdart-generated-li><a href=/ja/reference/dart/dart-generated/ title="Dart Generated Code" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencedartdart-generated><span>生成されたコード</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencedartapi-docs-link-li><a href=https://pub.dartlang.org/documentation/protobuf target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencedartapi-docs-link><span>Dart API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencego-li><a href=/ja/reference/go/ title=Goリファレンス class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencego><span>Go</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencegogo-generated-li><a href=/ja/reference/go/go-generated/ title="Go Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencegogo-generated><span>生成されたコードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencegoapi-docs-link-li><a href=https://pkg.go.dev/google.golang.org/protobuf/proto target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencegoapi-docs-link><span>Go API</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencegofaq-li><a href=/ja/reference/go/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencegofaq><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencegosize-li><a href=/ja/reference/go/size/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencegosize><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencejava-li><a href=/ja/reference/java/ title="Java リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencejava><span>Java</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencejavajava-generated-li><a href=/ja/reference/java/java-generated/ title=Java生成コードガイド class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencejavajava-generated><span>生成コードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencejavajava-proto-names-li><a href=/ja/reference/java/java-proto-names/ title="Java Proto Names" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencejavajava-proto-names><span>生成されたProto名</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencejavaapi-docs-link-li><a href=/reference/java/api-docs/overview-summary.html target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencejavaapi-docs-link><span>Java API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencekotlin-li><a href=/ja/reference/kotlin/ title="Kotlin リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencekotlin><span>Kotlin</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencekotlinapi-docs-li><a href=/ja/reference/kotlin/api-docs/ title="Kotlin リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencekotlinapi-docs><span>Kotlin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencekotlinkotlin-generated-li><a href=/ja/reference/kotlin/kotlin-generated/ title="Kotlin 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencekotlinkotlin-generated><span>生成コードガイド</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferenceobjective-c-li><a href=/ja/reference/objective-c/ title="Objective-C リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferenceobjective-c><span>Objective-C</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceobjective-cobjective-c-generated-li><a href=/ja/reference/objective-c/objective-c-generated/ title="Objective-C 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceobjective-cobjective-c-generated><span>生成コードガイド</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencephp-li><a href=/ja/reference/php/ title="PHP リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencephp><span>PHP</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencephpphp-generated-li><a href=/ja/reference/php/php-generated/ title="PHP 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencephpphp-generated><span>生成コードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencephpapi-docs-link-li><a href=/reference/php/api-docs/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencephpapi-docs-link><span>PHP API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferencepython-li><a href=/ja/reference/python/ title="Python リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferencepython><span>Python</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencepythonpython-generated-li><a href=/ja/reference/python/python-generated/ title="Python 生成コードガイド" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencepythonpython-generated><span>生成コードガイド</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencepythonapi-docs-link-li><a href=https://googleapis.dev/python/protobuf/latest/ target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencepythonapi-docs-link><span>Python API</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jareferenceruby-li><a href=/ja/reference/ruby/ title="Ruby リファレンス" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferenceruby><span>Ruby</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferencerubyruby-generated-li><a href=/ja/reference/ruby/ruby-generated/ title="Ruby Generated Code Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferencerubyruby-generated><span>生成されたコードガイド</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-jareferenceprotobuf-li><a href=/ja/reference/protobuf/ title=プロトコルバッファリファレンス class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jareferenceprotobuf><span>プロトコルバッファ</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceprotobufedition-2023-spec-li><a href=/ja/reference/protobuf/edition-2023-spec/ title="Protocol Buffers Edition 2023 言語仕様" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceprotobufedition-2023-spec><span>2023 言語仕様</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceprotobufproto2-spec-li><a href=/ja/reference/protobuf/proto2-spec/ title="Protocol Buffers Version 2 言語仕様" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceprotobufproto2-spec><span>Version 2 言語仕様</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceprotobufproto3-spec-li><a href=/ja/reference/protobuf/proto3-spec/ title="Protocol Buffers Version 3 言語仕様" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceprotobufproto3-spec><span>Version 3 言語仕様</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-jareferenceprotobuftextformat-spec-li><a href=/ja/reference/protobuf/textformat-spec/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-jareferenceprotobuftextformat-spec><span class=td-sidebar-nav-active-item>テキスト形式言語仕様</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceprotobufgoogleprotobuf-li><a href=/ja/reference/protobuf/google.protobuf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceprotobufgoogleprotobuf><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jareferenceother-li><a href=/ja/reference/other/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jareferenceother><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-jasupport-li><a href=/ja/support/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-jasupport><span>サポート</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jasupportversion-support-li><a href=/ja/support/version-support/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jasupportversion-support><span>バージョンサポート</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jasupportcross-version-runtime-guarantee-li><a href=/ja/support/cross-version-runtime-guarantee/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jasupportcross-version-runtime-guarantee><span>クロスバージョンランタイム保証</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jasupportmigration-li><a href=/ja/support/migration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jasupportmigration><span></span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jaforum-link-li><a href=https://groups.google.com/g/protobuf target=_blank rel=noopener class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jaforum-link><span>フォーラム</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jadownloads-li><a href=/ja/downloads/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jadownloads><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jahistory-li><a href=/ja/history/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jahistory><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-janavbar-li><a href=/ja/navbar/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-janavbar><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-jasearch-li><a href=/ja/search/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-jasearch><span>検索結果</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/protocolbuffers/protocolbuffers.github.io/tree/main/content/reference/protobuf/textformat-spec.ja.md class=td-page-meta--view target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/protocolbuffers/protocolbuffers.github.io/edit/main/content/reference/protobuf/textformat-spec.ja.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> ページの編集</a>
<a href="https://github.com/protocolbuffers/protocolbuffers.github.io/new/main/content/reference/protobuf/textformat-spec.ja.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> 子ページを作成</a>
<a href="https://github.com/protocolbuffers/protocolbuffers.github.io/issues/new?title=%e3%83%86%e3%82%ad%e3%82%b9%e3%83%88%e5%bd%a2%e5%bc%8f%e8%a8%80%e8%aa%9e%e4%bb%95%e6%a7%98" class=td-page-meta--issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> ドキュメントのissueを作成</a>
<a href=https://github.com/protocolbuffers/protobuf/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> プロジェクトのissueを作成</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#example>例</a></li><li><a href=#parsing>パースの概要</a></li><li><a href=#lexical>字句要素</a><ul><li><a href=#characters>文字</a></li><li><a href=#whitespace>空白とコメント</a></li><li><a href=#identifiers>識別子</a></li><li><a href=#numeric>数値リテラル</a></li><li><a href=#string>文字列リテラル</a></li></ul></li><li><a href=#syntax>構文要素</a><ul><li><a href=#message>メッセージ</a></li><li><a href=#literals>リテラル</a></li><li><a href=#field-names>フィールド名</a></li><li><a href=#fields>フィールド</a></li></ul></li><li><a href=#value>値の種類</a></li><li><a href=#extension>拡張フィールド</a></li><li><a href=#any><code>Any</code> フィールド</a></li><li><a href=#group><code>group</code> フィールド</a></li><li><a href=#map><code>map</code> フィールド</a></li><li><a href=#oneof><code>oneof</code> フィールド</a></li><li><a href=#text-format-files>テキスト形式ファイル</a><ul><li><a href=#header>ヘッダー</a></li></ul></li><li><a href=#プログラムでのフォーマット操作>プログラムでのフォーマット操作</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://protobuf.dev/ja/reference/>リファレンスガイド</a></li><li class=breadcrumb-item><a href=https://protobuf.dev/ja/reference/protobuf/>プロトコルバッファ</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://protobuf.dev/ja/reference/protobuf/textformat-spec/ aria-disabled=true class="btn-link disabled">テキスト形式言語仕様</a></li></ol></nav><div class=td-content><h1>テキスト形式言語仕様</h1><div class=lead>プロトコルバッファのテキスト形式言語は、protobufデータのテキスト形式での表現の構文を指定します。これは、構成やテストによく使用されます。</div><header class=article-meta></header><p>この形式は、たとえば<code>.proto</code>スキーマ内のテキストの形式とは異なります。このドキュメントには、<a href=https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form>ISO/IEC 14977 EBNF</a>で指定された構文を使用したリファレンスドキュメントが含まれています。</p><div class="alert alert-note" role=alert><h4 class=alert-heading>Note</h4>これは、C++テキスト形式の<a href=https://github.com/protocolbuffers/protobuf/blob/master/src/google/protobuf/text_format.cc>実装</a>から逆エンジニアリングされた下書き仕様であり、さらなる議論とレビューに基づいて変更される可能性があります。サポートされている言語間でテキスト形式を一貫させる努力がなされていますが、非互換性が存在する可能性があります。</div><h2 id=example>例</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>convolution_benchmark {
</span></span><span style=display:flex><span>  label: &#34;NHWC_128x20x20x56x160&#34;
</span></span><span style=display:flex><span>  input {
</span></span><span style=display:flex><span>    dimension: [128, 56, 20, 20]
</span></span><span style=display:flex><span>    data_type: DATA_HALF
</span></span><span style=display:flex><span>    format: TENSOR_NHWC
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=parsing>パースの概要</h2><p>この仕様の言語要素は、字句的および構文的カテゴリに分かれます。字句要素は、入力テキストが説明通りに完全に一致する必要がありますが、構文要素はオプションの<code>WHITESPACE</code>および<code>COMMENT</code>トークンで分割されることができます。</p><p>たとえば、符号付き浮動小数点値は2つの構文要素で構成されます: 符号(<code>-</code>)と<code>FLOAT</code>リテラルです。符号と数値の間にはオプションの空白やコメントが存在するかもしれませんが、数値内には存在しません。例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>value: -2.0   # Valid: no additional whitespace.
</span></span><span style=display:flex><span>value: - 2.0  # Valid: whitespace between &#39;-&#39; and &#39;2.0&#39;.
</span></span><span style=display:flex><span>value: -
</span></span><span style=display:flex><span>  # comment
</span></span><span style=display:flex><span>  2.0         # Valid: whitespace and comments between &#39;-&#39; and &#39;2.0&#39;.
</span></span><span style=display:flex><span>value: 2 . 0  # Invalid: the floating point period is part of the lexical
</span></span><span style=display:flex><span>              # element, so no additional whitespace is allowed.
</span></span></code></pre></div><p>特別な注意が必要なエッジケースが1つあります: 数値トークン(<code>FLOAT</code>、<code>DEC_INT</code>、<code>OCT_INT</code>、または<code>HEX_INT</code>)の直後に<code>IDENT</code>トークンが続くことはできません。例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>foo: 10 bar: 20           # Valid: whitespace separates &#39;10&#39; and &#39;bar&#39;
</span></span><span style=display:flex><span>foo: 10,bar: 20           # Valid: &#39;,&#39; separates &#39;10&#39; and &#39;bar&#39;
</span></span><span style=display:flex><span>foo: 10[com.foo.ext]: 20  # Valid: &#39;10&#39; is followed immediately by &#39;[&#39;, which is
</span></span><span style=display:flex><span>                          # not an identifier.
</span></span><span style=display:flex><span>foo: 10bar: 20            # Invalid: no space between &#39;10&#39; and identifier &#39;bar&#39;.
</span></span></code></pre></div><h2 id=lexical>字句要素</h2><p>以下に記載されている字句要素は、大文字の主要要素と小文字のフラグメントの2つのカテゴリに分類されます。出力トークンストリームには主要要素のみが含まれ、構文解析中に使用されます。フラグメントは主要要素の構築を簡素化するために存在します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>value: 10   # &#39;10&#39; is parsed as a DEC_INT token.
</span></span><span style=display:flex><span>value: 10f  # &#39;10f&#39; is parsed as a FLOAT token, despite containing &#39;10&#39; which
</span></span><span style=display:flex><span>            # would also match DEC_INT. In this case, FLOAT matches a longer
</span></span><span style=display:flex><span>            # subsequence of the input.
</span></span></code></pre></div><h3 id=characters>文字</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>char    = ? Any non-NUL unicode character ? ;
</span></span><span style=display:flex><span>newline = ? ASCII #10 (line feed) ? ;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>letter = &#34;A&#34; | &#34;B&#34; | &#34;C&#34; | &#34;D&#34; | &#34;E&#34; | &#34;F&#34; | &#34;G&#34; | &#34;H&#34; | &#34;I&#34; | &#34;J&#34; | &#34;K&#34; | &#34;L&#34; | &#34;M&#34;
</span></span><span style=display:flex><span>       | &#34;N&#34; | &#34;O&#34; | &#34;P&#34; | &#34;Q&#34; | &#34;R&#34; | &#34;S&#34; | &#34;T&#34; | &#34;U&#34; | &#34;V&#34; | &#34;W&#34; | &#34;X&#34; | &#34;Y&#34; | &#34;Z&#34;
</span></span><span style=display:flex><span>       | &#34;a&#34; | &#34;b&#34; | &#34;c&#34; | &#34;d&#34; | &#34;e&#34; | &#34;f&#34; | &#34;g&#34; | &#34;h&#34; | &#34;i&#34; | &#34;j&#34; | &#34;k&#34; | &#34;l&#34; | &#34;m&#34;
</span></span><span style=display:flex><span>       | &#34;n&#34; | &#34;o&#34; | &#34;p&#34; | &#34;q&#34; | &#34;r&#34; | &#34;s&#34; | &#34;t&#34; | &#34;u&#34; | &#34;v&#34; | &#34;w&#34; | &#34;x&#34; | &#34;y&#34; | &#34;z&#34;
</span></span><span style=display:flex><span>       | &#34;_&#34; ;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>oct = &#34;0&#34; | &#34;1&#34; | &#34;2&#34; | &#34;3&#34; | &#34;4&#34; | &#34;5&#34; | &#34;6&#34; | &#34;7&#34; ;
</span></span><span style=display:flex><span>dec = &#34;0&#34; | &#34;1&#34; | &#34;2&#34; | &#34;3&#34; | &#34;4&#34; | &#34;5&#34; | &#34;6&#34; | &#34;7&#34; | &#34;8&#34; | &#34;9&#34; ;
</span></span><span style=display:flex><span>hex = &#34;0&#34; | &#34;1&#34; | &#34;2&#34; | &#34;3&#34; | &#34;4&#34; | &#34;5&#34; | &#34;6&#34; | &#34;7&#34; | &#34;8&#34; | &#34;9&#34;
</span></span><span style=display:flex><span>    | &#34;A&#34; | &#34;B&#34; | &#34;C&#34; | &#34;D&#34; | &#34;E&#34; | &#34;F&#34;
</span></span><span style=display:flex><span>    | &#34;a&#34; | &#34;b&#34; | &#34;c&#34; | &#34;d&#34; | &#34;e&#34; | &#34;f&#34; ;
</span></span></code></pre></div><h3 id=whitespace>空白とコメント</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>COMMENT    = &#34;#&#34;, { char - newline }, [ newline ] ;
</span></span><span style=display:flex><span>WHITESPACE = &#34; &#34;
</span></span><span style=display:flex><span>           | newline
</span></span><span style=display:flex><span>           | ? ASCII #9  (horizontal tab) ?
</span></span><span style=display:flex><span>           | ? ASCII #11 (vertical tab) ?
</span></span><span style=display:flex><span>           | ? ASCII #12 (form feed) ?
</span></span><span style=display:flex><span>           | ? ASCII #13 (carriage return) ? ;
</span></span></code></pre></div><h3 id=identifiers>識別子</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>IDENT = letter, { letter | dec } ;
</span></span></code></pre></div><h3 id=numeric>数値リテラル</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>dec_lit   = &#34;0&#34;
</span></span><span style=display:flex><span>          | ( dec - &#34;0&#34; ), { dec } ;
</span></span><span style=display:flex><span>float_lit = &#34;.&#34;, dec, { dec }, [ exp ]
</span></span><span style=display:flex><span>          | dec_lit, &#34;.&#34;, { dec }, [ exp ]
</span></span><span style=display:flex><span>          | dec_lit, exp ;
</span></span><span style=display:flex><span>exp       = ( &#34;E&#34; | &#34;e&#34; ), [ &#34;+&#34; | &#34;-&#34; ], dec, { dec } ;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DEC_INT   = dec_lit
</span></span><span style=display:flex><span>OCT_INT   = &#34;0&#34;, oct, { oct } ;
</span></span><span style=display:flex><span>HEX_INT   = &#34;0&#34;, ( &#34;X&#34; | &#34;x&#34; ), hex, { hex } ;
</span></span><span style=display:flex><span>FLOAT     = float_lit, [ &#34;F&#34; | &#34;f&#34; ]
</span></span><span style=display:flex><span>          | dec_lit,   ( &#34;F&#34; | &#34;f&#34; ) ;
</span></span></code></pre></div><p>10進整数は、<code>F</code> および <code>f</code> 接尾辞を使用して浮動小数点値にキャストできます。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>foo: 10    # これは整数値です。
</span></span><span style=display:flex><span>foo: 10f   # これは浮動小数点値です。
</span></span><span style=display:flex><span>foo: 1.0f  # 浮動小数点リテラルにもオプションです。
</span></span></code></pre></div><h3 id=string>文字列リテラル</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>STRING = single_string | double_string ;
</span></span><span style=display:flex><span>single_string = &#34;&#39;&#34;, { escape | char - &#34;&#39;&#34; - newline - &#34;\&#34; }, &#34;&#39;&#34; ;
</span></span><span style=display:flex><span>double_string = &#39;&#34;&#39;, { escape | char - &#39;&#34;&#39; - newline - &#34;\&#34; }, &#39;&#34;&#39; ;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>escape = &#34;\a&#34;                        (* ASCII #7  (bell)                 *)
</span></span><span style=display:flex><span>       | &#34;\b&#34;                        (* ASCII #8  (backspace)            *)
</span></span><span style=display:flex><span>       | &#34;\f&#34;                        (* ASCII #12 (form feed)            *)
</span></span><span style=display:flex><span>       | &#34;\n&#34;                        (* ASCII #10 (line feed)            *)
</span></span><span style=display:flex><span>       | &#34;\r&#34;                        (* ASCII #13 (carriage return)      *)
</span></span><span style=display:flex><span>       | &#34;\t&#34;                        (* ASCII #9  (horizontal tab)       *)
</span></span><span style=display:flex><span>       | &#34;\v&#34;                        (* ASCII #11 (vertical tab)         *)
</span></span><span style=display:flex><span>       | &#34;\?&#34;                        (* ASCII #63 (question mark)        *)
</span></span><span style=display:flex><span>       | &#34;\\&#34;                        (* ASCII #92 (backslash)            *)
</span></span><span style=display:flex><span>       | &#34;\&#39;&#34;                        (* ASCII #39 (apostrophe)           *)
</span></span><span style=display:flex><span>       | &#39;\&#34;&#39;                        (* ASCII #34 (quote)                *)
</span></span><span style=display:flex><span>       | &#34;\&#34;, oct, [ oct, [ oct ] ]  (* octal escaped byte value         *)
</span></span><span style=display:flex><span>       | &#34;\x&#34;, hex, [ hex ]          (* hexadecimal escaped byte value   *)
</span></span><span style=display:flex><span>       | &#34;\u&#34;, hex, hex, hex, hex    (* Unicode code point up to 0xffff  *)
</span></span><span style=display:flex><span>       | &#34;\U000&#34;,
</span></span><span style=display:flex><span>         hex, hex, hex, hex, hex     (* Unicode code point up to 0xfffff *)
</span></span><span style=display:flex><span>       | &#34;\U0010&#34;,
</span></span><span style=display:flex><span>         hex, hex, hex, hex ;        (* Unicode code point between 0x100000 and 0x10ffff *)
</span></span></code></pre></div><p>8進エスケープシーケンスは最大3桁の8進数を消費します。追加の桁はエスケープせずに通過します。たとえば、入力 <code>\1234</code> をエスケープ解除すると、パーサーは3桁の8進数 (123) を消費してバイト値 0x83 (ASCII &lsquo;S&rsquo;) をエスケープし、続く &lsquo;4&rsquo; はバイト値 0x34 (ASCII &lsquo;4&rsquo;) として通過します。正しい解析を確実にするために、3桁の8進数を先頭にゼロを使用して表現し、<code>\000</code>、<code>\001</code>、<code>\063</code>、<code>\377</code> のように表現してください。数値文字の後に非数値文字が続く場合、<code>\5Hello</code> のように、3桁未満の数字が消費されます。</p><p>16進エスケープシーケンスは最大2桁の16進数を消費します。たとえば、<code>\x213</code> をエスケープ解除すると、パーサーは最初の2桁 (21) のみを消費してバイト値 0x21 (ASCII &lsquo;!&rsquo;) をエスケープします。正しい解析を確実にするために、先頭に必要に応じてゼロを使用して、2桁の16進エスケープシーケンスを表現してください。<code>\x00</code>、<code>\x01</code>、<code>\xFF</code> のように。数値文字の後に非16進文字が続く場合、<code>\xFHello</code> や <code>\x3world</code> のように、2桁未満が消費されます。</p><p>バイト単位のエスケープは <code>bytes</code> 型のフィールドにのみ使用してください。<code>string</code> 型のフィールドでもバイト単位のエスケープを使用することは可能ですが、これらのエスケープシーケンスは有効な UTF-8 シーケンスを形成する必要があります。バイト単位のエスケープを使用して UTF-8 シーケンスを表現することは誤りを生じやすいです。<code>string</code> 型のフィールドのリテラルで印刷できない文字や改行文字を表現する場合は、UTF-8 シーケンスを優先し、<code>string</code> 型のフィールドのリテラルで使用してください。```</p><p>長い文字列は、連続する行で複数の引用符付き文字列に分割できます。
例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span>  <span style=color:#000>quote</span><span style=color:#ce5c00;font-weight:700>:</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>      <span style=color:#4e9a06>&#34;When we got into office, the thing that surprised me most was to find &#34;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>      <span style=color:#4e9a06>&#34;that things were just as bad as we&#39;d been saying they were.\n\n&#34;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>      <span style=color:#4e9a06>&#34;  -- John F. Kennedy&#34;</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>Unicodeコードポイントは、<a href="https://www.unicode.org/versions/Unicode13.0.0/appA.pdf#page=5">Unicode 13 Table A-1 Extended BNF</a>に従って解釈され、UTF-8でエンコードされます。</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>警告</h4>C++の実装は現在、エスケープされた高サロゲートコードポイントをUTF-16コードユニットとして解釈し、<code>\uHHHH</code>の低サロゲートコードポイントが直ちに続くことを期待しています。別々の引用符付き文字列をまたがる分割はありません。さらに、対にならないサロゲートは、無効なUTF-8に直接レンダリングされます。これらはどちらも非準拠の動作です[^surrogates]。</div><h2 id=syntax>構文要素</h2><h3 id=message>メッセージ</h3><p>メッセージはフィールドのコレクションです。テキスト形式のファイルは単一のメッセージです。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Message = { Field } ;
</span></span></code></pre></div><h3 id=literals>リテラル</h3><p>フィールドのリテラル値は、数値、文字列、または <code>true</code> や enum 値などの識別子であることができます。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>String             = STRING, { STRING } ;
</span></span><span style=display:flex><span>Float              = [ &#34;-&#34; ], FLOAT ;
</span></span><span style=display:flex><span>Identifier         = IDENT ;
</span></span><span style=display:flex><span>SignedIdentifier   = &#34;-&#34;, IDENT ;   (* For example, &#34;-inf&#34; *)
</span></span><span style=display:flex><span>DecSignedInteger   = &#34;-&#34;, DEC_INT ;
</span></span><span style=display:flex><span>OctSignedInteger   = &#34;-&#34;, OCT_INT ;
</span></span><span style=display:flex><span>HexSignedInteger   = &#34;-&#34;, HEX_INT ;
</span></span><span style=display:flex><span>DecUnsignedInteger = DEC_INT ;
</span></span><span style=display:flex><span>OctUnsignedInteger = OCT_INT ;
</span></span><span style=display:flex><span>HexUnsignedInteger = HEX_INT ;
</span></span></code></pre></div><p>単一の文字列値は、オプションの空白で区切られた複数の引用部分で構成されることがあります。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>a_string: &#34;first part&#34; &#39;second part&#39;
</span></span><span style=display:flex><span>          &#34;third part&#34;
</span></span><span style=display:flex><span>no_whitespace: &#34;first&#34;&#34;second&#34;&#39;third&#39;&#39;fourth&#39;
</span></span></code></pre></div><h3 id=field-names>フィールド名</h3><p>含まれるメッセージの一部であるフィールドは、名前として単純な <code>Identifiers</code> を使用します。
<a href=/programming-guides/proto2#extensions><code>Extension</code></a> および
<a href=/programming-guides/proto3#any><code>Any</code></a> フィールド名は、角かっこで囲まれ、完全修飾されます。<code>Any</code> フィールド名は、<code>type.googleapis.com/</code>などの修飾ドメイン名で接頭辞が付けられます。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>FieldName     = ExtensionName | AnyName | IDENT ;
</span></span><span style=display:flex><span>ExtensionName = &#34;[&#34;, TypeName, &#34;]&#34; ;
</span></span><span style=display:flex><span>AnyName       = &#34;[&#34;, Domain, &#34;/&#34;, TypeName, &#34;]&#34; ;
</span></span><span style=display:flex><span>TypeName      = IDENT, { &#34;.&#34;, IDENT } ;
</span></span><span style=display:flex><span>Domain        = IDENT, { &#34;.&#34;, IDENT } ;
</span></span></code></pre></div><p>通常のフィールドと拡張フィールドには、スカラー値またはメッセージ値が含まれることがあります。<code>Any</code> フィールドは常にメッセージです。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>reg_scalar: 10
</span></span><span style=display:flex><span>reg_message { foo: &#34;bar&#34; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[com.foo.ext.scalar]​: 10
</span></span><span style=display:flex><span>[com.foo.ext.message] { foo: &#34;bar&#34; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>any_value {
</span></span><span style=display:flex><span>  [type.googleapis.com/com.foo.any] { foo: &#34;bar&#34; }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=unknown-fields>未知のフィールド</h4><p>テキスト形式のパーサーは、フィールド名の代わりに生のフィールド番号で表される未知のフィールドをサポートできません。なぜなら、6つのワイヤータイプのうち3つがテキスト形式で同じ方法で表されるからです。一部のテキスト形式のシリアライザの実装は、未知のフィールドを、フィールド番号と値の数値表現を使用する形式でエンコードしますが、これはワイヤータイプ情報が無視されるため、本質的に損失が発生します。比較のため、ワイヤーフォーマットはワイヤータイプを<code>(field_number &lt;&lt; 3) | wire_type</code>として各フィールドタグに含むため、非損失です。エンコードに関する詳細は、<a href=/programming-guides/encoding.md>エンコーディング</a>トピックを参照してください。</p><p>メッセージスキーマからフィールドタイプに関する情報がない場合、値は正しくワイヤーフォーマットの proto メッセージにエンコードできません。</p><h3 id=fields>フィールド</h3><p>フィールドの値はリテラル（文字列、数値、または識別子）またはネストされたメッセージであることができます。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Field        = ScalarField | MessageField ;
</span></span><span style=display:flex><span>MessageField = FieldName, [ &#34;:&#34; ], ( MessageValue | MessageList ) [ &#34;;&#34; | &#34;,&#34; ];
</span></span><span style=display:flex><span>ScalarField  = FieldName, &#34;:&#34;,     ( ScalarValue  | ScalarList  ) [ &#34;;&#34; | &#34;,&#34; ];
</span></span><span style=display:flex><span>MessageList  = &#34;[&#34;, [ MessageValue, { &#34;,&#34;, MessageValue } ], &#34;]&#34; ;
</span></span><span style=display:flex><span>ScalarList   = &#34;[&#34;, [ ScalarValue,  { &#34;,&#34;, ScalarValue  } ], &#34;]&#34; ;
</span></span><span style=display:flex><span>MessageValue = &#34;{&#34;, Message, &#34;}&#34; | &#34;&lt;&#34;, Message, &#34;&gt;&#34; ;
</span></span><span style=display:flex><span>ScalarValue  = String
</span></span><span style=display:flex><span>             | Float
</span></span><span style=display:flex><span>             | Identifier
</span></span><span style=display:flex><span>             | SignedIdentifier
</span></span><span style=display:flex><span>             | DecSignedInteger
</span></span><span style=display:flex><span>             | OctSignedInteger
</span></span><span style=display:flex><span>             | HexSignedInteger
</span></span><span style=display:flex><span>             | DecUnsignedInteger
</span></span><span style=display:flex><span>             | OctUnsignedInteger
</span></span><span style=display:flex><span>             | HexUnsignedInteger ;
</span></span></code></pre></div><p>スカラーフィールドの場合、フィールド名と値の間の<code>:</code>区切り記号が必要ですが、メッセージフィールド（リストを含む）の場合はオプションです。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>scalar: 10          # Valid
</span></span><span style=display:flex><span>scalar  10          # Invalid
</span></span><span style=display:flex><span>scalars: [1, 2, 3]  # Valid
</span></span><span style=display:flex><span>scalars  [1, 2, 3]  # Invalid
</span></span><span style=display:flex><span>message: {}         # Valid
</span></span><span style=display:flex><span>message  {}         # Valid
</span></span><span style=display:flex><span>messages: [{}, {}]  # Valid
</span></span><span style=display:flex><span>messages  [{}, {}]  # Valid
</span></span></code></pre></div><p>メッセージフィールドの値は波括弧または角括弧で囲むことができます：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>message: { foo: &#34;bar&#34; }
</span></span><span style=display:flex><span>message: &lt; foo: &#34;bar&#34; &gt;
</span></span></code></pre></div><p><code>repeated</code> とマークされたフィールドは、フィールドを繰り返すことで複数の値を指定できます。特別な<code>[]</code>リスト構文を使用するか、その両方の組み合わせを使用できます。値の順序は維持されます。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>repeated_field: 1
</span></span><span style=display:flex><span>repeated_field: 2
</span></span><span style=display:flex><span>repeated_field: [3, 4, 5]
</span></span><span style=display:flex><span>repeated_field: 6
</span></span><span style=display:flex><span>repeated_field: [7, 8, 9]
</span></span></code></pre></div><p><code>repeated</code> でないフィールドはリスト構文を使用できません。たとえば、<code>optional</code> または <code>required</code> フィールドに対して <code>[0]</code> は有効ではありません。<code>optional</code> とマークされたフィールドは省略するか、1回指定できます。<code>required</code> とマークされたフィールドは正確に1回指定する必要があります。</p><p>関連する <em>.proto</em> メッセージで指定されていないフィールドは、メッセージの <code>reserved</code> フィールドリストにフィールド名が存在しない限り許可されません。<code>reserved</code> フィールドは、任意の形式（スカラー、リスト、メッセージ）で存在する場合は、テキスト形式で単に無視されます。</p><h2 id=value>値の種類</h2><p>フィールドの関連する <em>.proto</em> 値の種類がわかっている場合、以下の値の説明と制約が適用されます。このセクションの目的のために、以下のコンテナ要素を宣言します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>signedInteger   = DecSignedInteger | OctSignedInteger | HexSignedInteger ;
</span></span><span style=display:flex><span>unsignedInteger = DecUnsignedInteger | OctUnsignedInteger | HexUnsignedInteger ;
</span></span><span style=display:flex><span>integer         = signedInteger | unsignedInteger ;
</span></span></code></pre></div><table><thead><tr><th style=text-align:center><strong>.proto タイプ</strong></th><th style=text-align:center><strong>値</strong></th></tr></thead><tbody><tr><td style=text-align:center><code>float</code>, <code>double</code></td><td style=text-align:left><code>Float</code>、<code>DecSignedInteger</code>、または
<code>DecUnsignedInteger</code> 要素、または <code>Identifier</code>
または <code>SignedIdentifier</code> 要素で、<code>IDENT</code>
部分が <em>"inf"</em>、<em>"infinity"</em>、または
<em>"nan"</em>（大文字小文字を区別しない）と等しいもの。オーバーフローは無限大または
-無限大として扱われます。8進数および16進数の値は有効ではありません。<p>注: <em>"nan"</em> は <a href=https://en.wikipedia.org/wiki/NaN#Quiet_NaN>Quiet NaN</a> として解釈されるべきです。</p></td></tr><tr><td style=text-align:center><code>int32</code>, <code>sint32</code>, <code>sfixed32</code></td><td style=text-align:left>範囲内のいずれかの <code>integer</code> 要素：<em>-0x80000000</em> から <em>0x7FFFFFFF</em>。</td></tr><tr><td style=text-align:center><code>int64</code>, <code>sint64</code>, <code>sfixed64</code></td><td style=text-align:left>範囲内のいずれかの <code>integer</code> 要素：<em>-0x8000000000000000</em> から <em>0x7FFFFFFFFFFFFFFF</em>。</td></tr><tr><td style=text-align:center><code>uint32</code>, <code>fixed32</code></td><td style=text-align:left>範囲内のいずれかの <code>unsignedInteger</code> 要素：<em>0</em> から <em>0xFFFFFFFF</em>。負の値
（<em>-0</em>）は有効ではありません。</td></tr><tr><td style=text-align:center><code>uint64</code>, <code>fixed64</code></td><td style=text-align:left>範囲内のいずれかの <code>unsignedInteger</code> 要素：<em>0</em> から <em>0xFFFFFFFFFFFFFFFF</em>。負の値
（<em>-0</em>）は有効ではありません。</td></tr><tr><td style=text-align:center><code>string</code></td><td style=text-align:left>有効な UTF-8 データを含む <code>String</code> 要素。エスケープシーケンスは、アンエスケープ時に有効な
UTF-8 バイトシーケンスを形成しなければなりません。</td></tr><tr><td style=text-align:center><code>bytes</code></td><td style=text-align:left>無効な UTF-8 エスケープシーケンスを含む可能性のある <code>String</code> 要素。</td></tr><tr><td style=text-align:center><code>bool</code></td><td style=text-align:left><code>Identifier</code> 要素または次のいずれかの <code>unsignedInteger</code> 要素のいずれかに一致する
値。<br><strong>True 値:</strong> <em>"True"</em>、<em>"true"</em>、
<em>"t"</em>、<em>1</em><br><strong>False 値:</strong> <em>"False"</em>、<em>"false"</em>、
<em>"f"</em>、<em>0</em><br><em>0</em> または <em>1</em> のいずれかの符号なし整数表現が許可されます：<em>00</em>、<em>0x0</em>、
<em>01</em>、<em>0x1</em> など。</td></tr><tr><td style=text-align:center><em>enum 値</em></td><td style=text-align:left>列挙値名を含む <code>Identifier</code> 要素、または範囲内のいずれかの <code>integer</code> 要素：
<em>-0x80000000</em> から <em>0x7FFFFFFF</em> で列挙値番号を含むもの。フィールドの <code>enum</code> タイプ定義の
メンバーでない名前を指定することは無効です。特定の protobuf ランタイム実装によっては、
フィールドの <code>enum</code> タイプ定義のメンバーでない数値を指定することが有効であるかどうかが異なる場合があります。
特定のランタイム実装に結びついていないテキスト形式のプロセッサ（IDE サポートなど）は、提供された数値値が有効なメンバーでない場合に警告を発行することがあります。
他のコンテキストで有効なキーワードである特定の名前、例えば <em>"true"</em> や <em>"infinity"</em> など、も有効な列挙値名です。</td></tr><tr><td style=text-align:center><em>メッセージ値</em></td><td style=text-align:left><code>MessageValue</code> 要素。</td></tr></tbody></table><h2 id=extension>拡張フィールド</h2><p>拡張フィールドは、修飾名を使用して指定されます。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>local_field: 10
</span></span><span style=display:flex><span>[com.example.ext_field]​: 20
</span></span></code></pre></div><p>拡張フィールドは一般的に他の <em>.proto</em> ファイルで定義されます。テキスト形式の言語には、拡張フィールドを定義するファイルの場所を指定するメカニズムが提供されていません。代わりに、パーサーはそれらの場所について事前に知識を持っている必要があります。</p><h2 id=any><code>Any</code> フィールド</h2><p>テキスト形式は、拡張フィールドに似た特別な構文を使用して、<a href=/programming-guides/proto3#any><code>google.protobuf.Any</code></a> の拡張形式をサポートしています。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>local_field: 10
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># An Any value using regular fields.
</span></span><span style=display:flex><span>any_value {
</span></span><span style=display:flex><span>  type_url: &#34;type.googleapis.com/com.example.SomeType&#34;
</span></span><span style=display:flex><span>  value: &#34;\x0a\x05hello&#34;  # serialized bytes of com.example.SomeType
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># The same value using Any expansion
</span></span><span style=display:flex><span>any_value {
</span></span><span style=display:flex><span>  [type.googleapis.com/com.example.SomeType] {
</span></span><span style=display:flex><span>    field1: &#34;hello&#34;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>この例では、<code>any_value</code> は <code>google.protobuf.Any</code> 型のフィールドであり、<code>field1: hello</code> を含む <code>com.example.SomeType</code> メッセージをシリアル化して格納しています。</p><h2 id=group><code>group</code> フィールド</h2><p>テキスト形式では、<code>group</code> フィールドは通常の <code>MessageValue</code> 要素をその値として使用しますが、暗黙的な小文字のフィールド名ではなく、大文字のグループ名を使用して指定されます。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>MessageWithGroup</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>group</span> <span style=color:#000>MyGroup</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>int32</span> <span style=color:#000>my_value</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>上記の <em>.proto</em> 定義を使用すると、次のテキスト形式は有効な <code>MessageWithGroup</code> です：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>MyGroup {
</span></span><span style=display:flex><span>  my_value: 1
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>メッセージフィールドと同様に、グループ名と値の間の <code>:</code> デリミタはオプションです。</p><h2 id=map><code>map</code> フィールド</h2><p>テキスト形式では、マップフィールドエントリを指定するためのカスタム構文は提供されていません。<a href=/programming-guides/proto2#maps><code>map</code></a> フィールドが <em>.proto</em> ファイルで定義されると、<code>key</code> と <code>value</code> フィールドを含む暗黙的な <code>Entry</code> メッセージが定義されます。マップフィールドは常に繰り返され、複数のキー/値エントリを受け入れます。例：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>MessageWithMap</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000>map</span><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>int32</span><span style=color:#000;font-weight:700>&gt;</span> <span style=color:#000>my_map</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>上記の <em>.proto</em> 定義を使用すると、次のテキスト形式は有効な <code>MessageWithMap</code> です：</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>my_map { key: &#34;entry1&#34; value: 1 }
</span></span><span style=display:flex><span>my_map { key: &#34;entry2&#34; value: 2 }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># You can also use the list syntax
</span></span><span style=display:flex><span>my_map: [
</span></span><span style=display:flex><span>  { key: &#34;entry3&#34; value: 3 },
</span></span><span style=display:flex><span>  { key: &#34;entry4&#34; value: 4 }
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p><code>key</code> フィールドと <code>value</code> フィールドの両方はオプションであり、指定されていない場合はそれぞれの型のゼロ値にデフォルトで設定されます。キーが重複している場合、解析されたマップには最後に指定された値のみが保持されます。</p><p>マップの順序は、textprotosでは維持されません。</p><h2 id=oneof><code>oneof</code> フィールド</h2><p><code>oneof</code> フィールドに関連する特別な構文はありませんが、テキスト形式では一度に1つの <code>oneof</code> メンバーのみを指定できます。複数のメンバーを同時に指定することはできません。例:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>OneofExample</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>message</span> <span style=color:#000>MessageWithOneof</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>optional</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>not_part_of_oneof</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#204a87;font-weight:700>oneof</span> <span style=color:#000>Example</span> <span style=color:#000;font-weight:700>{</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>      <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>first_oneof_field</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>      <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000>second_oneof_field</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>    <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span>  <span style=color:#204a87;font-weight:700>repeated</span> <span style=color:#000>MessageWithOneof</span> <span style=color:#204a87;font-weight:700>message</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>;</span><span style=color:#a40000>
</span></span></span><span style=display:flex><span><span style=color:#a40000></span><span style=color:#000;font-weight:700>}</span><span style=color:#a40000>
</span></span></span></code></pre></div><p>上記の <em>.proto</em> 定義は、次のテキスト形式の動作を示します:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># Valid: only one field from the Example oneof is set.
</span></span><span style=display:flex><span>message {
</span></span><span style=display:flex><span>  not_part_of_oneof: &#34;always valid&#34;
</span></span><span style=display:flex><span>  first_oneof_field: &#34;valid by itself&#34;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Valid: the other oneof field is set.
</span></span><span style=display:flex><span>message {
</span></span><span style=display:flex><span>  not_part_of_oneof: &#34;always valid&#34;
</span></span><span style=display:flex><span>  second_oneof_field: &#34;valid by itself&#34;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Invalid: multiple fields from the Example oneof are set.
</span></span><span style=display:flex><span>message {
</span></span><span style=display:flex><span>  not_part_of_oneof: &#34;always valid&#34;
</span></span><span style=display:flex><span>  first_oneof_field: &#34;not valid&#34;
</span></span><span style=display:flex><span>  second_oneof_field: &#34;not valid&#34;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=text-format-files>テキスト形式ファイル</h2><p>テキスト形式ファイルは <code>.txtpb</code> 拡張子を使用し、単一の <code>Message</code> を含みます。テキスト形式ファイルは UTF-8 エンコードされています。以下にテキストプロトファイルの例を示します。</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>重要</h4><code>.txtpb</code> は標準的なテキスト形式ファイルの拡張子であり、他の選択肢よりも好ましいです。この拡張子は簡潔さと公式のワイヤーフォーマットファイル拡張子 <code>.binpb</code> との一貫性のために推奨されています。古い標準の拡張子 <code>.textproto</code> は広く使用されており、ツールサポートもあります。一部のツールは古い拡張子 <code>.textpb</code> や <code>.pbtxt</code> もサポートしています。上記以外のすべての拡張子は <strong>強く</strong> 推奨されません。特に、<code>.protoascii</code> のような拡張子は、テキスト形式が ASCII のみであることを誤って示し、<code>.pb.txt</code> のような他の拡張子は一般的なツールで認識されません。</div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># This is an example of Protocol Buffer&#39;s text format.
</span></span><span style=display:flex><span># Unlike .proto files, only shell-style line comments are supported.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>name: &#34;John Smith&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pet {
</span></span><span style=display:flex><span>  kind: DOG
</span></span><span style=display:flex><span>  name: &#34;Fluffy&#34;
</span></span><span style=display:flex><span>  tail_wagginess: 0.65f
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pet &lt;
</span></span><span style=display:flex><span>  kind: LIZARD
</span></span><span style=display:flex><span>  name: &#34;Lizzy&#34;
</span></span><span style=display:flex><span>  legs: 4
</span></span><span style=display:flex><span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>string_value_with_escape: &#34;valid \n escape&#34;
</span></span><span style=display:flex><span>repeated_values: [ &#34;one&#34;, &#34;two&#34;, &#34;three&#34; ]
</span></span></code></pre></div><h3 id=header>ヘッダー</h3><p>ヘッダーコメント <code>proto-file</code> と <code>proto-message</code> は、スキーマに関する情報を開発者ツールに提供し、さまざまな機能を提供します。</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span># proto-file: some/proto/my_file.proto
</span></span><span style=display:flex><span># proto-message: MyMessage
</span></span></code></pre></div><h2 id=プログラムでのフォーマット操作>プログラムでのフォーマット操作</h2><p>個々の Protocol Buffer 実装が一貫した標準的なテキスト形式を出力しないため、TextProto ファイルを変更したり TextProto 出力を生成するツールやライブラリは、出力をフォーマットするために明示的に
<a href=https://github.com/protocolbuffers/txtpbfmt>https://github.com/protocolbuffers/txtpbfmt</a>
を使用する必要があります。</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/protocol-buffers aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=50px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#ffb data-fg=#000 data-position=bottom data-padding="10px 16px" data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/protocolbuffers/protobuf aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/protobuf aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul><script type=text/javascript id=cookiebanner src=https://cdn.jsdelivr.net/gh/dobarkod/cookie-banner@1.2.2/dist/cookiebanner.min.js data-height=50px data-message="Protobuf.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic." data-bg=#ffb data-fg=#000 data-position=bottom data-padding="10px 16px" data-close-text="OK, got it" data-font-size=18px data-moreinfo=https://policies.google.com/technologies/cookies></script></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2024 Google LLC All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>プライバシーポリシー</a></small>
<span class=text-white>Hosted by GitHub Pages.</span> <a href=https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement target=_blank>GitHub Privacy Statement</a></div></div></div></footer></div><script src=/js/main.min.ba08a6b7f24e657f0a1b9b55be3a3162585168cd862ace0957f5b44e6cb6dc61.js integrity="sha256-ugimt/JOZX8KG5tVvjoxYlhRaM2GKs4JV/W0Tmy23GE=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>